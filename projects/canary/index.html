<!DOCTYPE html> <html lang="kr"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1352545434285249" crossorigin="anonymous"></script> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>카나리아 | Wonbeom Jang</title> <meta name="author" content="Wonbeom Jang"> <meta name="description" content="모두를 위한 군사보안 경보 시스템"> <meta name="keywords" content="computer-vision, machine-learning, software-engineer, software-engineering"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://www.wonbeomjang.kr/projects/canary/"> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Wonbeom </span>Jang</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">Publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">Repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">CV</a> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">카나리아</h1> <p class="post-description">모두를 위한 군사보안 경보 시스템</p> </header> <article> <h1 id="개요">개요</h1> <p><strong>프로젝트기간</strong><br> 2021.05 ~ 2021.11</p> <p><strong>개발인원</strong><br> 5명</p> <p><strong>담당역할</strong><br> PM, 핵심알고리즘 개발, ML모델 배포서버 제작, Azure ML 환경 설정 결과 데이터 문제점 분석 및 해결방법 도출. Recall 2%p, Precision 1%p 향상</p> <p><strong>링크</strong><br> <a href="https://github.com/osamhack2021/AI_APP_WEB_Canary_Canary_2021" rel="external nofollow noopener" target="_blank">https://github.com/osamhack2021/AI_APP_WEB_Canary_Canary_2021</a><br> <a href="https://www.youtube.com/watch?v=zD_AGme63og" rel="external nofollow noopener" target="_blank">https://www.youtube.com/watch?v=zD_AGme63og</a><br> <a href="https://github.com/osamhack2021/AI_APP_WEB_Canary_Canary/tree/main/AI(BE)/deeplearning/kwoledge_distillation_yolov5" rel="external nofollow noopener" target="_blank">https://github.com/osamhack2021/AI_APP_WEB_Canary_Canary/tree/main/AI(BE)/deeplearning/kwoledge_distillation_yolov5</a></p> <p><strong>개발기</strong><br> <a href="http://0.0.0.0:8080/blog/2021/osam-1/" rel="external nofollow noopener" target="_blank">1. 팀 결정 및 주제&amp;시스템 설계</a><br> <a href="http://0.0.0.0:8080/blog/2021/osam-1/" rel="external nofollow noopener" target="_blank">2. computer vision 개발 과정</a><br> <a href="http://0.0.0.0:8080/blog/2021/osam-1/" rel="external nofollow noopener" target="_blank">3. 이제 끝나는 건가</a></p> <p><strong>내용</strong><br> 본 프로젝트는 2021 군장병 공개SW 역량강화 온라인 해커톤의 출품작으로 전차, 군함, 총기, 문서 등 군사보안위반 가능성 물체들을 모자이크 해주고 이를 알려주는 어플리케이션을 제작했습니다. Object detection을 위해 yolov5를 사용하였으며 mosaic를 mosaic_9으로 바꾸고 self-distillation을 적용하여 Recall을 4.3%p 향상시켰습니다.</p> <p><strong>프레임워크</strong><br> Flutter, Node js, Pytorch, Django, Azure ML, Docker</p> <hr> <h1 id="핵심-로직-및-서비스-구조">핵심 로직 및 서비스 구조</h1> <p align="center"><img src="https://user-images.githubusercontent.com/40621030/210398815-4a9aa64e-33de-4c79-8919-2e3c99183dfe.png" width="80%"></p> <p>Flutter, Node js, Libtorch를 사용하여 제작을 하였습니다. 팀원 모두 프로젝트가 처음이라는 것을 감안하여 서비스 아키텍쳐와 로직을 최대한 단순하게 잡았습니다. YOLOv5를 이용하여 object detection후 opencv를 활용하여 이미지를 모자이크하고 경고메시지를 작성하여 node js에게 넘겼습니다. Azure ML은 학습 요청을 queue로 관리하녀 Docker를 통해 실험환경을 구성합니다. 모델이 학습이 완료되면 Django서버에 파라미터와 성능지표가 등록됩니다. Node js가 분석 요청 시 Detection Module은 Django에 성능이 좋은 모델이 있는지 확인하여 있으면 자동으로 다운로드 받습니다.</p> <hr> <h1 id="개발-과정">개발 과정</h1> <h2 id="기술스택">기술스택</h2> <table align="center"> <tr align="center"> <td><a href="https://pytorch.org/" rel="external nofollow noopener" target="_blank"><img src="https://user-images.githubusercontent.com/40621030/136698820-2c869052-ff44-4629-b1b9-7e1ae02df669.png" height="80"></a></td> <td><a href="https://opencv.org/" rel="external nofollow noopener" target="_blank"><img src="https://user-images.githubusercontent.com/40621030/136698821-10434eb5-1a98-4108-8082-f68297012724.png" height="80"></a></td> <td><a href="https://cvat.org/" rel="external nofollow noopener" target="_blank"><img src="https://user-images.githubusercontent.com/40621030/136698825-f2e1816f-580b-4cf1-960d-295e9f18a329.png" height="80"></a></td> <td><a href="https://roboflow.com/" rel="external nofollow noopener" target="_blank"><img src="https://user-images.githubusercontent.com/40621030/136698826-e18a44a9-63d1-498b-a63f-c76bdc603f3b.png" height="80"></a></td> </tr> <tr align="center"> <td align="center">PyTorch</td> <td align="center">OpenCV</td> <td align="center">CVAT</td> <td align="center">Roboflow</td> </tr> </table> <p><br></p> <h2 id="object-detection-vs-semantic-segmentation">Object detection VS Semantic segmentation</h2> <ul> <li> <p>Semantic segmentation: 사람을 제외한 배경을 처리 난이도: 상대적으로 낮음(사람을 대상으로 학습된 model 사용) 장점: 기존 모델을 사용 시 사람을 깔끔하게 구별 가능 단점: 오직 사람/배경만 구별 가능, 사람 앞의 물체에 대해선 감지하지 못할 수 있음 (ex: 기밀 문서를 들고 있는 사람)</p> </li> <li> <p>Object detection: 학습한 Class들을 사진 안에서 검출하여 처리 난이도: 상대적으로 높음(We need to get dataset, annotate them, train model…) 장점: 여러 다양한 class들을 검출하여 사진의 상황을 대략적으로 파악 가능, 보안 위반 객체는 detect만 된다면 처리 가능(보안성), 사람 이외의 객체들도 살려낼 수 있음 단점: segmentation보다 상대적으로 깔끔하지 못한 사진 처리, 높은 데이터 수집 난이도와 큰 시간 소요</p> </li> </ul> <p>보다 높은 보안성을 중시하기로 결정 –&gt; Object detection</p> <h2 id="사용-데이터셋">사용 데이터셋</h2> <h3 id="version-1-imagenet-object-localization-challenge">Version 1: <a href="https://www.kaggle.com/c/imagenet-object-localization-challenge" rel="external nofollow noopener" target="_blank">ImageNet Object Localization Challenge</a> </h3> <p align="center"><img src="https://user-images.githubusercontent.com/40621030/137607638-124c1622-6bfe-4a45-a16b-519314916436.jpg" width="80%"></p> <p><strong>문제점</strong></p> <ol> <li>데이터 수 부족</li> <li>대다수 물체가 정중앙 위치</li> <li>대다수 물체가 사진 전체를 차지</li> </ol> <p><strong>해결방안 1 - 데이터 추가</strong></p> <table> <tr> <td align="center">Orignal Dataset</td> <td align="center">Add more data</td> </tr> <tr> <td align="center"><img src="https://user-images.githubusercontent.com/40621030/137607638-124c1622-6bfe-4a45-a16b-519314916436.jpg" width="80%"></td> <td align="center"><img src="https://user-images.githubusercontent.com/40621030/137607640-9552448f-a39c-4a46-9d50-a523002be0e4.jpg" width="80%"></td> </tr> </table> <p><strong>해결방안 2, 3 - augmentation 방법 변경</strong></p> <table> <tr> <td align="center">기존</td> <td align="center">변경</td> </tr> <tr> <td align="center"><img src="https://user-images.githubusercontent.com/40621030/137607771-6509a1f3-872a-4bfd-ac0f-389e7dcd8fdc.jpeg" width="80%"></td> <td align="center"><img src="https://user-images.githubusercontent.com/40621030/137607774-68692b66-5324-4184-ba9a-e41151a6a561.jpeg" width="80%"></td> </tr> </table> <p><br></p> <h3 id="사용-모델">사용 모델</h3> <p>YOLOv5, Efficientnet, SSGlite 등의 모델들을 고려.<br> 성능과 학습에 들어가는 시간 등을 종합적으로 판단 –&gt; YOLOv5 결정. (Efficientnet: 학습 시간이 지나치게 많이 소요, SSGlite: YOLOv5보다 낮은 성능)</p> <ul> <li>YOLOv5 (<a href="https://github.com/ultralytics/yolov5" rel="external nofollow noopener" target="_blank">original github</a>)</li> </ul> <p align="center"><img src="https://user-images.githubusercontent.com/40621030/136682963-80100da0-c31c-4df4-8bff-583e1c1c62f1.png" width="80%"></p> <p><strong>문제점</strong></p> <p align="center"><img src="https://user-images.githubusercontent.com/26833433/136901921-abcfcd9d-f978-4942-9b97-0e3f202907df.png" width="80%"></p> <ol> <li>낮은 성능</li> <li>무거운 모델 (ex. yolov5l6)</li> </ol> <p><strong>해결방안</strong></p> <ul> <li>knowledge distillation (<a href="https://arxiv.org/abs/1906.03609" rel="external nofollow noopener" target="_blank">paper link</a>) <p align="center"><img src="https://user-images.githubusercontent.com/40621030/136683028-fb1ca2f0-97c0-4581-9b7a-64e26536d7af.png" width="80%"></p> </li> </ul> <h3 id="성능-향상">성능 향상</h3> <table align="center"> <tr align="center"> <td>enhance</td> <td>model</td> <td>precision</td> <td>recall</td> <td>mAP_0.5</td> <td>mAP_0.5:0.95</td> </tr> <tr align="center"> <td>Before add dataset</td> <td>yolov5m6</td> <td>0.602</td> <td>0.651</td> <td>0.671</td> <td>0.535</td> </tr> <tr align="center"> <td>None (Add dataset)</td> <td>yolov5m6</td> <td>0.736</td> <td>0.779</td> <td>0.815</td> <td>0.599</td> </tr> <tr align="center"> <td>mosaic_9 50%</td> <td>yolov5m6</td> <td>0.736</td> <td>0.779</td> <td>0.815</td> <td>0.599</td> </tr> <tr align="center"> <td>mosaic_9 100%</td> <td>yolov5m6</td> <td>0.739</td> <td>0.813a</td> <td>0.806</td> <td>0.594</td> </tr> <tr align="center"> <td>self distillation</td> <td>yolov5m6</td> <td>0.722</td> <td>0.822</td> <td>0.807</td> <td>0.592</td> </tr> </table> <p><br></p> <table align="center"> <tr> <td align="center">Original Image</td> <td align="center">Result Image</td> </tr> <tr> <td align="center"><img src="https://user-images.githubusercontent.com/40621030/136698553-a00eb618-7783-41d9-bd2c-203dbbd60946.jpg" width="80%"></td> <td align="center"><img src="https://user-images.githubusercontent.com/40621030/136698552-42c71108-9efc-4c88-a68a-3f5aec8452c6.jpg" width="80%"></td> </tr> </table> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Wonbeom Jang. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: December 04, 2023. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>